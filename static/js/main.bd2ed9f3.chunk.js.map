{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searcbar","state","searchbar","submit","e","preventDefault","props","reset","inputChange","currentTarget","name","value","setState","className","s","Searchbar","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","modalOpen","onClick","src","alt","ImageGalleryItemImage","Button","Modal","cleanEventListener","code","window","addEventListener","removeEventListener","Overlay","ImageGallery","status","loadMore","page","fetch","then","response","ok","json","Promise","reject","Error","images","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","target","dataset","source","modalClose","prevProps","prevSearch","nextSearch","total","color","height","width","timeout","map","image","id","App","onFormSubmit","searchName","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bd2ed9f3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3bQBY\",\"Modal\":\"Modal_Modal__ZZG3P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__31WST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__16ZO7\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searcbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func,\n  };\n  state = {\n    searchbar: \"\",\n  };\n  submit = (e) => {\n    e.preventDefault();\n    this.props.submit(this.state.searchbar);\n    this.reset();\n  };\n  inputChange = (e) => {\n    const { name, value } = e.currentTarget;\n    this.setState({ [name]: value });\n  };\n\n  reset = () => {\n    this.setState({ searchbar: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.submit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"searchbar\"\n            value={this.state.searchbar}\n            onChange={this.inputChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searcbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, modalOpen }) => {\n  return (\n    <li className={s.ImageGalleryItem} onClick={modalOpen}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        data-source={largeImageURL}\n      />\n    </li>\n  );\n};\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  largeImageURL: PropTypes.string,\n  modalOpen: PropTypes.func,\n  tags: PropTypes.string,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => {\n  return (\n          <button type=\"button\" className={s.Button} onClick={onClick}>\n             Load more\n          </button>\n  );\n};\nexport default Button;\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport s from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  static propTypes = {\n    largeImageURL: PropTypes.string,\n    tags: PropTypes.string,\n    onClick: PropTypes.func,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.cleanEventListener);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.cleanEventListener);\n  }\n\n  cleanEventListener = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClick();\n    }\n  };\n  render() {\n    const { onClick, largeImageURL, alt } = this.props;\n    return (\n      <div className={s.Overlay} onClick={onClick}>\n        <div className={s.Modal}>\n          <img src={largeImageURL} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default Modal;\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string,\n  tags: PropTypes.string,\n};\n","import React, { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"../Modal/Modal\";\nimport s from \"./ImageGallery.module.css\";\n\nclass ImageGallery extends Component {\n  state = {\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps) {\n    const prevSearch = prevProps.searchbar;\n    const nextSearch = this.props.searchbar;\n    const key = `22330478-3bd9f5a2d8db4972b1e40fa44`;\n    if (prevSearch !== nextSearch) {\n      this.setState({ status: \"pending\" });\n\n      fetch(\n        `https://pixabay.com/api/?q=${nextSearch}&page=1&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n          return Promise.reject(new Error(`no images on request`));\n        })\n        .then((images) => {\n          if (images.total === 0) {\n            this.setState({ error: \"No any picture\", status: \"rejected\" });\n          } else {\n            this.setState({\n              images: images.hits,\n              status: \"resolved\",\n              page: 1,\n              searchbar: nextSearch,\n            });\n          }\n        })\n        .catch((error) => this.setState({ error, status: \"rejected\" }));\n    }\n  }\n  loadMore = () => {\n    const key = `22330478-3bd9f5a2d8db4972b1e40fa44`;\n    const page = this.state.page + 1;\n\n    fetch(\n      `https://pixabay.com/api/?q=${this.state.searchbar}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(new Error(`no images on request`));\n      })\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images.hits],\n          page: prevState.page + 1,\n        }))\n      )\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => this.setState({ error }));\n  };\n  modalOpen = (e) => {\n    this.setState({\n      largeImageURL: e.target.dataset.source,\n      alt: e.target.alt,\n    });\n  };\n  modalClose = () => {\n    this.setState({ largeImageURL: \"\", alt: \"\" });\n  };\n\n  render() {\n    const { images, status } = this.state;\n    if (status === \"idle\") {\n      return <p>Enter the name of the picture</p>;\n    }\n    if (status === \"pending\") {\n      return (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      );\n    }\n    if (status === \"resolved\") {\n      return (\n        <ul className={s.ImageGallery}>\n          {images.map((image) => {\n            return (\n              <ImageGalleryItem\n                key={image.id}\n                tags={image.tags}\n                webformatURL={image.webformatURL}\n                largeImageURL={image.largeImageURL}\n                modalOpen={this.modalOpen}\n              />\n            );\n          })}\n          <Button onClick={this.loadMore} />\n          {this.state.largeImageURL ? (\n            <Modal\n              largeImageURL={this.state.largeImageURL}\n              alt={this.state.alt}\n              onClick={this.modalClose}\n            />\n          ) : null}\n        </ul>\n      );\n    }\n    if (status === \"rejected\") {\n      return <p>{this.state.error}</p>;\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from \"react\";\n\nimport Searcbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    searchbar: \"\",\n  };\n  onFormSubmit = (searchName) => {\n    if (searchName) {\n      this.setState({ searchbar: searchName });\n    }\n    return;\n  };\n\n  render() {\n    const { searchbar } = this.state;\n    return (\n      <div className=\"App\">\n        <Searcbar submit={this.onFormSubmit} />\n        <ImageGallery searchbar={searchbar} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Prg2\",\"SearchForm\":\"Searchbar_SearchForm__3_9Dr\",\"SearchFormButton\":\"Searchbar_SearchFormButton__Ux8PD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2u9Nn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2wmcD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2nE7p\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3vzt7\"};"],"sourceRoot":""}