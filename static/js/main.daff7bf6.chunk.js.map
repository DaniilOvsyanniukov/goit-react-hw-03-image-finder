{"version":3,"sources":["components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searcbar","state","searchbar","submit","e","preventDefault","props","reset","inputChange","currentTarget","name","value","setState","className","s","Searchbar","onSubmit","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","tags","modalOpen","onClick","src","alt","ImageGalleryItemImage","Button","Modal","cleanEventListener","code","window","addEventListener","removeEventListener","Overlay","ImageGallery","status","loadMore","page","fetch","then","response","ok","json","Promise","reject","Error","images","prevState","hits","scrollTo","top","document","documentElement","scrollHeight","behavior","catch","error","target","dataset","source","modalClose","prevProps","prevSearch","nextSearch","color","height","width","timeout","map","image","id","App","onFormSubmit","searchName","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.daff7bf6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3bQBY\",\"Modal\":\"Modal_Modal__ZZG3P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__31WST\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__16ZO7\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport s from './Searchbar.module.css';\r\n\r\nclass Searcbar extends Component{\r\n    static propTypes = {\r\n        onSubmit: PropTypes.func\r\n    };\r\n    state = {\r\n        searchbar: \"\",\r\n    };\r\n    submit = (e) => {\r\n        e.preventDefault();\r\n        this.props.submit(this.state.searchbar);\r\n        this.reset();\r\n\r\n    };\r\n    inputChange = (e) => {\r\n        const { name, value } = e.currentTarget;\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    reset = () => {\r\n    this.setState({ searchbar: \"\",});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form onSubmit={this.submit} className={s.SearchForm}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n                    <input\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        name=\"searchbar\"\r\n                        value={this.state.searchbar}\r\n                        onChange={this.inputChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n\r\n            \r\n            \r\n        )\r\n    }\r\n\r\n\r\n\r\n};\r\nexport default Searcbar;\r\n\r\n","import PropTypes from \"prop-types\";\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nconst ImageGalleryItem = ({webformatURL, largeImageURL, tags, modalOpen}) => {\r\n    return (\r\n    <li className={s.ImageGalleryItem} onClick={modalOpen}>\r\n        <img src={webformatURL} alt={tags} className={s.ImageGalleryItemImage} data-source={largeImageURL}/>\r\n    </li>    \r\n  );\r\n};\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  modalOpen: PropTypes.func,\r\n  tags: PropTypes.string,\r\n};","import PropTypes from \"prop-types\";\r\nimport s from './Button.module.css'\r\n\r\nconst Button = ({onClick}) => {\r\n    return (\r\n        <button type=\"button\" className={s.Button} onClick={onClick}>Load more</button>\r\n  );\r\n};\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n};","import PropTypes from \"prop-types\";\r\nimport React, { Component } from 'react';\r\nimport s from './Modal.module.css'\r\n\r\n \r\nclass Modal extends Component {\r\n    static propTypes = {\r\n        largeImageURL: PropTypes.string,\r\n        tags: PropTypes.string,\r\n        onClick: PropTypes.func,\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.cleanEventListener)\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.cleanEventListener)\r\n    }\r\n\r\n    cleanEventListener=e => {\r\n            if (e.code === 'Escape') {\r\n                this.props.onClick()\r\n            }\r\n        }\r\n    render() {\r\n        const { onClick, largeImageURL, alt } = this.props;\r\n        return (\r\n            <div className={s.Overlay} onClick={onClick}>\r\n                <div className={s.Modal}>\r\n                    <img src={largeImageURL} alt={alt} />\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n}\r\nexport default Modal;\r\n\r\nModal.propTypes = {\r\n  largeImageURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n};","import React, { Component } from 'react';\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport Button from '../Button/Button';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Modal from '../Modal/Modal';\r\nimport s from './ImageGallery.module.css'\r\n\r\n\r\n \r\nclass ImageGallery extends Component {\r\n    state = {\r\n        status: 'idle'\r\n    }\r\n\r\n\r\n    componentDidUpdate(prevProps) {\r\n        const prevSearch = prevProps.searchbar;\r\n        const nextSearch = this.props.searchbar;\r\n        const key = `22330478-3bd9f5a2d8db4972b1e40fa44`\r\n        if (prevSearch !== nextSearch) {\r\n            this.setState({ status: 'pending' });\r\n\r\n            fetch(`https://pixabay.com/api/?q=${nextSearch}&page=1&key=${key}&image_type=photo&orientation=horizontal&per_page=12`).then(response => {\r\n                if (response.ok) {\r\n                    return response.json()\r\n                }\r\n                return Promise.reject(\r\n                    new Error(`no images on request`),\r\n                );\r\n            })\r\n                .then(images => this.setState({ images: images.hits, status: 'resolved', page: 1, searchbar: nextSearch }))\r\n                .catch(error => this.setState({ error, status: 'rejected' }));\r\n        }\r\n    }\r\n    loadMore = () => {\r\n        const key = `22330478-3bd9f5a2d8db4972b1e40fa44`\r\n        const page = this.state.page + 1;\r\n\r\n        fetch(`https://pixabay.com/api/?q=${this.state.searchbar}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`).then(response => {\r\n            if (response.ok) {\r\n                return response.json()\r\n            }\r\n            return Promise.reject(\r\n                new Error(`no images on request`),\r\n            );\r\n        })\r\n            .then(images => this.setState((prevState) => ({ images: [...prevState.images, ...images.hits], page: prevState.page + 1 })))\r\n            .then(() => {\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                });\r\n            })\r\n            .catch(error => this.setState({ error }));\r\n    }\r\n    modalOpen = (e) => {\r\n        this.setState({largeImageURL:e.target.dataset.source, alt: e.target.alt})\r\n    }\r\n    modalClose = () => {\r\n        this.setState({largeImageURL:\"\", alt: \"\"})\r\n    }\r\n       \r\n    \r\n    render() {\r\n        const { images, status } = this.state;\r\n        if (status === 'idle') { return <p>Enter the name of the picture</p>; }\r\n        if (status === 'pending') {\r\n            return <Loader\r\n                     type=\"Puff\"\r\n                     color=\"#00BFFF\"\r\n                     height={100}\r\n                     width={100}\r\n                     timeout={3000} //3 secs\r\n                />\r\n        }\r\n        if (status === 'resolved') {\r\n            return (\r\n                <ul className={s.ImageGallery}>\r\n                    {images.map(image => {\r\n                        return <ImageGalleryItem key={image.id}\r\n                            tags={image.tags}\r\n                            webformatURL={image.webformatURL}\r\n                            largeImageURL={image.largeImageURL}\r\n                            modalOpen={this.modalOpen} />\r\n                    })}\r\n                    <Button onClick={this.loadMore} />\r\n                    {this.state.largeImageURL ? <Modal\r\n                        largeImageURL={this.state.largeImageURL}\r\n                        alt={this.state.alt}\r\n                        onClick={this.modalClose}\r\n                    /> : null}\r\n                </ul>);\r\n        }\r\n        if (status === 'rejected') { return <p>Здесь будет {this.state.error}</p> }\r\n    \r\n    };\r\n}\r\n\r\nexport default ImageGallery;\r\n\r\n","import React, { Component } from 'react';\n\nimport Searcbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchbar: \"\",\n  };\n  onFormSubmit = (searchName) => {\n    if (searchName) { this.setState({ searchbar: searchName }) }\n    return\n  };\n\n  render() {\n    const { searchbar } = this.state;\n    return (\n      <div className=\"App\">\n        <Searcbar submit={this.onFormSubmit} />\n        <ImageGallery searchbar={searchbar}/>\n      </div>\n    );\n  };\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Prg2\",\"SearchForm\":\"Searchbar_SearchForm__3_9Dr\",\"SearchFormButton\":\"Searchbar_SearchFormButton__Ux8PD\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2u9Nn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2wmcD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2nE7p\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3vzt7\"};"],"sourceRoot":""}